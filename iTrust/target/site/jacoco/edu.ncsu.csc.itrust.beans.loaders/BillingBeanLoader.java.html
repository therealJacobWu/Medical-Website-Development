<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>BillingBeanLoader.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">iTrust</a> &gt; <a href="index.source.html" class="el_package">edu.ncsu.csc.itrust.beans.loaders</a> &gt; <span class="el_source">BillingBeanLoader.java</span></div><h1>BillingBeanLoader.java</h1><pre class="source lang-java linenums">package edu.ncsu.csc.itrust.beans.loaders;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import edu.ncsu.csc.itrust.beans.BillingBean;

<span class="fc" id="L11">public class BillingBeanLoader implements BeanLoader&lt;BillingBean&gt; {</span>

	@Override
	/**
	 * loadList simply takes a ResultSet from a query to the Billing table, and
	 * then it creates a list of BillingBeans from it.
	 * @param rs The ResultSet that is being converted into a list.
	 * @return The list that contains all the BillingBeans in the ResultSet.
	 */
	public List&lt;BillingBean&gt; loadList(ResultSet rs) throws SQLException {
<span class="fc" id="L21">		ArrayList&lt;BillingBean&gt; result = new ArrayList&lt;BillingBean&gt;();</span>
<span class="fc bfc" id="L22" title="All 2 branches covered.">		while(rs.next()){</span>
<span class="fc" id="L23">			BillingBean b = loadSingle(rs);</span>
<span class="fc" id="L24">			result.add(b);</span>
<span class="fc" id="L25">		}</span>
<span class="fc" id="L26">		return result;</span>
	}

	@Override
	/**
	 * loadSingle does the heavy lifting for the loadList method. I am not really sure
	 * why this method is public.
	 * Preconditions: The ResultSet must already be on an actual entry in the set.
	 * @param rs The result set that the BillingBean is being loaded from.
	 * @return The BillingBean that represents the entry that is currently in the set.
	 */
	public BillingBean loadSingle(ResultSet rs) throws SQLException {
<span class="pc bpc" id="L38" title="1 of 2 branches missed.">		if(rs == null) return null;</span>
<span class="fc" id="L39">		BillingBean result = new BillingBean();</span>
		
		//Just go through all the billing bean stuff and initialize the
		//bean that was just created.
<span class="fc" id="L43">		result.setBillID(rs.getInt(&quot;billID&quot;));</span>
<span class="fc" id="L44">		result.setApptID(rs.getInt(&quot;appt_id&quot;));</span>
<span class="fc" id="L45">		result.setPatient(rs.getLong(&quot;PatientID&quot;));</span>
<span class="fc" id="L46">		result.setHcp(rs.getLong(&quot;HCPID&quot;));</span>
<span class="fc" id="L47">		result.setAmt(rs.getInt(&quot;amt&quot;));</span>
<span class="fc" id="L48">		result.setStatus(rs.getString(&quot;status&quot;));</span>
<span class="fc" id="L49">		result.setCcHolderName(rs.getString(&quot;ccHolderName&quot;));</span>
<span class="fc" id="L50">		result.setBillingAddress(rs.getString(&quot;billingAddress&quot;));</span>
<span class="fc" id="L51">		result.setCcType(rs.getString(&quot;ccType&quot;));</span>
<span class="fc" id="L52">		result.setCcNumber(rs.getString(&quot;ccNumber&quot;));</span>
<span class="fc" id="L53">		result.setCvv(rs.getString(&quot;cvv&quot;));</span>
<span class="fc" id="L54">		result.setInsHolderName(rs.getString(&quot;insHolderName&quot;));</span>
<span class="fc" id="L55">		result.setInsID(rs.getString(&quot;insID&quot;));</span>
<span class="fc" id="L56">		result.setInsProviderName(rs.getString(&quot;insProviderName&quot;));</span>
<span class="fc" id="L57">		result.setInsAddress1(rs.getString(&quot;insAddress1&quot;));</span>
<span class="fc" id="L58">		result.setInsAddress2(rs.getString(&quot;insAddress2&quot;));</span>
<span class="fc" id="L59">		result.setInsCity(rs.getString(&quot;insCity&quot;));</span>
<span class="fc" id="L60">		result.setInsState(rs.getString(&quot;insState&quot;));</span>
<span class="fc" id="L61">		result.setInsZip(rs.getString(&quot;insZip&quot;));</span>
<span class="fc" id="L62">		result.setInsPhone(rs.getString(&quot;insPhone&quot;));</span>
<span class="fc" id="L63">		result.setSubmissions(rs.getInt(&quot;submissions&quot;));</span>
<span class="fc" id="L64">		result.setBillTime(rs.getDate(&quot;billTimeS&quot;));</span>
<span class="fc" id="L65">		result.setSubTime(rs.getTimestamp(&quot;subTime&quot;));</span>
<span class="fc" id="L66">		result.setInsurance(rs.getBoolean(&quot;isInsurance&quot;));</span>
<span class="fc" id="L67">		return result;</span>
	}

	@Override
	/**
	 * loadParameters is used to insert the values of a bean into a pepared statement.
	 * This version of loadParameters assumes that the values in the prepared statement are in
	 * the same order as in the createTables.sql file for billing.
	 * @param ps The prepared statement that the bean will be loaded into.
	 * @param bean The BillingBean that will be loaded into the prepared statement.
	 * @return The PreparedStatement that was passed in.
	 */
	public PreparedStatement loadParameters(PreparedStatement ps,
			BillingBean bean) throws SQLException {
<span class="fc" id="L81">		int i = 1;</span>
		//Just run through everything in the bean, and set it to the
		//pepared statement
<span class="fc" id="L84">		ps.setInt(i++, bean.getApptID());</span>
<span class="fc" id="L85">		ps.setLong(i++, bean.getPatient());</span>
<span class="fc" id="L86">		ps.setLong(i++, bean.getHcp());</span>
<span class="fc" id="L87">		ps.setInt(i++, bean.getAmt());</span>
<span class="fc" id="L88">		ps.setString(i++, bean.getStatus());</span>
<span class="fc" id="L89">		ps.setString(i++, bean.getCcHolderName());</span>
<span class="fc" id="L90">		ps.setString(i++, bean.getBillingAddress());</span>
<span class="fc" id="L91">		ps.setString(i++, bean.getCcType());</span>
<span class="fc" id="L92">		ps.setString(i++, bean.getCcNumber());</span>
<span class="fc" id="L93">		ps.setString(i++, bean.getCvv());</span>
<span class="fc" id="L94">		ps.setString(i++, bean.getInsHolderName());</span>
<span class="fc" id="L95">		ps.setString(i++, bean.getInsID());</span>
<span class="fc" id="L96">		ps.setString(i++, bean.getInsProviderName());</span>
<span class="fc" id="L97">		ps.setString(i++, bean.getInsAddress1());</span>
<span class="fc" id="L98">		ps.setString(i++, bean.getInsAddress2());</span>
<span class="fc" id="L99">		ps.setString(i++, bean.getInsCity());</span>
<span class="fc" id="L100">		ps.setString(i++, bean.getInsState());</span>
<span class="fc" id="L101">		ps.setString(i++, bean.getInsZip());</span>
<span class="fc" id="L102">		ps.setString(i++, bean.getInsPhone());</span>
<span class="fc" id="L103">		ps.setInt(i++, bean.getSubmissions());</span>
<span class="fc" id="L104">		ps.setBoolean(i++, bean.isInsurance());</span>
<span class="fc" id="L105">		return ps;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>