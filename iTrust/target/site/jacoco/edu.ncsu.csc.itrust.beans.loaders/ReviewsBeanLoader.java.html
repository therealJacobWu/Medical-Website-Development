<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ReviewsBeanLoader.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">iTrust</a> &gt; <a href="index.source.html" class="el_package">edu.ncsu.csc.itrust.beans.loaders</a> &gt; <span class="el_source">ReviewsBeanLoader.java</span></div><h1>ReviewsBeanLoader.java</h1><pre class="source lang-java linenums">/**
 * 
 */
package edu.ncsu.csc.itrust.beans.loaders;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import edu.ncsu.csc.itrust.beans.ReviewsBean;

/**
 * To load information to/from the reviews table into/from ReviewsBeans.
 */
<span class="fc" id="L17">public class ReviewsBeanLoader implements BeanLoader&lt;ReviewsBean&gt; {</span>

	/**
	 * From a ResultSet input param, return a list of loaded ReviewsBeans.
	 * @param ResultSet including the Bean info
	 * @return Java.util Array List ReviewsBeans
	 */
	@Override
	public List&lt;ReviewsBean&gt; loadList(ResultSet rs) throws SQLException {
<span class="fc" id="L26">		ArrayList&lt;ReviewsBean&gt; list = new ArrayList&lt;ReviewsBean&gt;();</span>
<span class="fc bfc" id="L27" title="All 2 branches covered.">		while(rs.next()){</span>
<span class="fc" id="L28">			list.add(loadSingle(rs));</span>
		}
<span class="fc" id="L30">		return list;</span>
	}

	/**
	 * ReviewsBeans are built and returned, when possible from info 
	 * in ResultSet.
	 * @param ResultSet from query, holds DB info for ReviewsBean
	 * @return the loaded ReviewsBean
	 */
	@Override
	public ReviewsBean loadSingle(ResultSet rs) throws SQLException {
<span class="fc" id="L41">		ReviewsBean rev = new ReviewsBean();</span>
<span class="fc" id="L42">		rev.setMID(rs.getLong(&quot;mid&quot;));</span>
<span class="fc" id="L43">		rev.setPID(rs.getLong(&quot;pid&quot;));</span>
<span class="fc" id="L44">		rev.setDateOfReview(rs.getDate(&quot;reviewdate&quot;));</span>
<span class="fc" id="L45">		rev.setDescriptiveReview(rs.getString(&quot;descriptivereview&quot;));</span>
<span class="fc" id="L46">		rev.setRating(rs.getInt(&quot;rating&quot;));</span>
<span class="fc" id="L47">		rev.setTitle(rs.getString(&quot;title&quot;));</span>
<span class="fc" id="L48">		return rev;</span>
	}

	
	/**
	 * We may decide to implement this later but for now, every call to here returns null.
	 */
	@Override
	public PreparedStatement loadParameters(PreparedStatement ps,
			ReviewsBean bean) throws SQLException {
<span class="fc" id="L58">		int i = 1;</span>
<span class="fc" id="L59">		ps.setLong(i++, bean.getMID());</span>
<span class="fc" id="L60">		ps.setLong(i++, bean.getPID());</span>
<span class="fc" id="L61">		ps.setString(i++, bean.getDescriptiveReview());</span>
<span class="fc" id="L62">		ps.setDouble(i++, bean.getRating());</span>
<span class="fc" id="L63">		ps.setString(i++, bean.getTitle());</span>
<span class="fc" id="L64">		return ps;</span>
	}
  
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>